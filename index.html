<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8" />
<title>Pixel art csésze kávé töltő időzítő</title>
<style>
  body {
    background: #f0f0f0;
    display: flex; justify-content: center; align-items: center; height: 100vh;
    font-family: monospace;
  }
  .pixel-cup {
    display: grid;
    grid-template-columns: repeat(8, 20px);
    grid-template-rows: repeat(10, 20px);
    gap: 2px;
    position: relative;
    width: max-content;
  }
  /* Pixelek alapértelmezett színe */
  .pixel {
    width: 20px;
    height: 20px;
    background: transparent;
    box-sizing: border-box;
  }
  /* Csésze körvonal pixelei */
  .cup-outline {
    background: #6b4c1a; /* sötétbarna */
  }
  /* Kávé pixelek */
  .coffee-pixel {
    background: #4b3211; /* kávébarna */
    transition: background 0.5s ease;
  }
  /* Csésze fogantyú pixelei */
  .handle {
    background: #6b4c1a;
  }
  /* Időzítő szöveg */
  .timer-text {
    margin-top: 20px;
    font-size: 20px;
    color: #4a3b1a;
    text-align: center;
  }
</style>
</head>
<body>

<div>
  <div class="pixel-cup" id="cup">
    <!-- 8x10 pixeles csésze -->
  </div>
  <div class="timer-text" id="timerText">30:00</div>
</div>

<script>
  const cup = document.getElementById('cup');
  const timerText = document.getElementById('timerText');

  // 8 oszlop, 10 sor
  const cols = 8;
  const rows = 10;

  // Csésze pixel térképe (2D tömb), ahol:
  // 0 = átlátszó (nincs pixel)
  // 1 = csésze körvonal pixel
  // 2 = fogantyú pixel
  // 3 = kávé tölthető pixel (belső rész)
  // Ez a minta pixeles csésze formát ad, fogantyúval jobb oldalon
  const cupMap = [
    [0,0,1,1,1,1,0,0],  // felső sor (csésze perem)
    [0,1,3,3,3,3,1,0],
    [1,3,3,3,3,3,3,1],
    [1,3,3,3,3,3,3,1],
    [1,3,3,3,3,3,3,1],
    [1,3,3,3,3,3,3,1],
    [1,3,3,3,3,3,3,1],
    [0,1,3,3,3,3,1,0],
    [0,0,1,1,1,1,0,0],
    [0,0,0,2,2,0,0,0],  // fogantyú pixelek alul
  ];

  // Létrehozzuk a pixeleket a térkép alapján
  const pixels = [];
  for(let r=0; r<rows; r++) {
    for(let c=0; c<cols; c++) {
      const pixel = document.createElement('div');
      pixel.classList.add('pixel');
      const val = cupMap[r][c];
      if(val === 1) pixel.classList.add('cup-outline');
      else if(val === 2) pixel.classList.add('handle');
      else if(val === 3) pixel.dataset.coffee = 'true'; // tölthető kávé pixel
      cup.appendChild(pixel);
      pixels.push(pixel);
    }
  }

  // Kávé tölthető pixelek indexei (csak a belső részek)
  const coffeePixels = pixels.filter(p => p.dataset.coffee === 'true');

  const totalSeconds = 30 * 60; // 30 perc
  let elapsedSeconds = 0;

  function updateTimer() {
    elapsedSeconds++;
    if(elapsedSeconds > totalSeconds) {
      clearInterval(timerInterval);
      return;
    }
    // Hány kávé pixel töltődjön fel az eltelt idő alapján
    const pixelsToFill = Math.floor((elapsedSeconds / totalSeconds) * coffeePixels.length);

    // Először töröljük a korábbi kávé pixeleket
    coffeePixels.forEach(p => p.classList.remove('coffee-pixel'));

    // Feltöltjük alulról felfelé a pixeleket kávéval
    for(let i=0; i<pixelsToFill; i++) {
      // Alulról felfelé töltjük, ezért fordított index
      coffeePixels[coffeePixels.length - 1 - i].classList.add('coffee-pixel');
    }

    // Frissítjük az időzítő szöveget
    const remaining = totalSeconds - elapsedSeconds;
    const min = Math.floor(remaining / 60);
    const sec = remaining % 60;
    timerText.textContent = `${min.toString().padStart(2,'0')}:${sec.toString().padStart(2,'0')}`;
  }

  const timerInterval = setInterval(updateTimer, 1000);
</script>

</body>
</html>
