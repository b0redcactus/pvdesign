<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8" />
<title>Pixel bögre kávé töltő időzítő</title>
<style>
  body {
    background: #f0f0f0;
    display: flex; justify-content: center; align-items: center; height: 100vh;
    font-family: monospace;
  }
  .pixel-cup {
    display: grid;
    grid-template-columns: repeat(8, 20px);
    grid-template-rows: repeat(10, 20px);
    gap: 2px;
    background: #fff;
    border: 4px solid #6b4c1a;
    border-radius: 12px 12px 20px 20px;
    position: relative;
    width: max-content;
    box-shadow: inset 0 0 10px #a67c3c;
  }
  /* Bögre fogantyú pixeljei */
  .handle {
    position: absolute;
    top: 40px;
    right: -44px;
    width: 40px;
    height: 80px;
    background: #6b4c1a;
    border-radius: 50% / 60%;
    box-shadow: inset 0 0 8px #a67c3c;
  }
  /* Egy pixel blokk */
  .pixel {
    width: 20px;
    height: 20px;
    background: transparent;
    box-sizing: border-box;
  }
  /* Kávé pixelek */
  .coffee-pixel {
    background: #6b4c1a;
    transition: background 0.5s ease;
  }
  /* Alsó sorok lekerekítése pixelesen */
  .bottom-rounded {
    border-radius: 0 0 6px 6px;
  }
  /* Időzítő szöveg */
  .timer-text {
    margin-top: 20px;
    font-size: 20px;
    color: #4a3b1a;
    text-align: center;
  }
</style>
</head>
<body>

<div>
  <div class="pixel-cup" id="cup">
    <!-- 8x10 pixel rács -->
    <!-- Az alábbi pixelek lesznek feltöltve kávéval alulról felfelé -->
  </div>
  <div class="timer-text" id="timerText">30:00</div>
</div>

<script>
  const cup = document.getElementById('cup');
  const timerText = document.getElementById('timerText');
  const rows = 10;
  const cols = 8;
  const totalPixels = rows * cols;
  const totalSeconds = 30 * 60; // 30 perc
  let elapsedSeconds = 0;

  // Létrehozzuk a pixeleket (div-eket)
  for (let i = 0; i < totalPixels; i++) {
    const pixel = document.createElement('div');
    pixel.classList.add('pixel');
    // Alsó sor pixeleit lekerekítjük pixelesen
    if (i >= totalPixels - cols) {
      pixel.classList.add('bottom-rounded');
    }
    cup.appendChild(pixel);
  }

  const pixels = cup.querySelectorAll('.pixel');

  function updateTimer() {
    elapsedSeconds++;
    if (elapsedSeconds > totalSeconds) {
      clearInterval(timerInterval);
      return;
    }
    // Számoljuk, hány pixel töltsön be kávét az eltelt idő alapján
    const pixelsToFill = Math.floor((elapsedSeconds / totalSeconds) * totalPixels);

    // Először töröljük a korábbi kávé pixeleket
    pixels.forEach(p => p.classList.remove('coffee-pixel'));

    // Feltöltjük alulról felfelé a pixeleket kávéval
    for (let i = 0; i < pixelsToFill; i++) {
      // A pixelek alulról felfelé töltődnek, ezért indexelünk visszafelé
      pixels[totalPixels - 1 - i].classList.add('coffee-pixel');
    }

    // Frissítjük az időzítő szöveget
    const remaining = totalSeconds - elapsedSeconds;
    const min = Math.floor(remaining / 60);
    const sec = remaining % 60;
    timerText.textContent = `${min.toString().padStart(2,'0')}:${sec.toString().padStart(2,'0')}`;
  }

  const timerInterval = setInterval(updateTimer, 1000);
</script>

<div class="handle"></div>

</body>
</html>
